import{j as e,L as f,r as b,H as g}from"./app-DkICs_uV.js";import{I as c,C as v}from"./CompanyLayout-CQgFZEZC.js";import{S as N}from"./SearchInput-DCPv_a_U.js";function S({tabs:t,activeTab:a,onTabChange:r}){return e.jsx("div",{className:"flex items-center gap-1",children:t.map(s=>e.jsx("button",{onClick:()=>r(s.key),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${a===s.key?"bg-slate-900 text-white":"text-slate-600 hover:bg-slate-100"}`,children:s.label},s.key))})}function I({currentPage:t,totalPages:a,totalItems:r,itemsPerPage:s,onPageChange:i}){const o=(t-1)*s+1,p=Math.min(t*s,r),u=()=>{const n=[];if(a<=5)for(let l=1;l<=a;l++)n.push(l);else t<=3?n.push(1,2,3,"...",a):t>=a-2?n.push(1,"...",a-2,a-1,a):n.push(1,"...",t,"...",a);return n};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-primary",children:["Showing ",o,"-",p," of ",r," Projects"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>i(t-1),disabled:t===1,className:"flex size-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition-colors hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx(c,{name:"chevron_left",className:"text-lg"})}),u().map((n,l)=>typeof n=="number"?e.jsx("button",{onClick:()=>i(n),className:`flex size-9 items-center justify-center rounded-lg text-sm font-medium transition-colors ${t===n?"bg-primary text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:n},l):e.jsx("span",{className:"flex size-9 items-center justify-center text-slate-400",children:"..."},l)),e.jsx("button",{onClick:()=>i(t+1),disabled:t===a,className:"flex size-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition-colors hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx(c,{name:"chevron_right",className:"text-lg"})})]})]})}function k({current:t,total:a,showPercentage:r=!0}){const s=a>0?Math.round(t/a*100):0,i=s>=100,o=t===0;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-slate-600",children:[t.toLocaleString()," / ",a.toLocaleString()," ","Responses"]}),r&&e.jsx("span",{className:`font-semibold ${o?"text-slate-400":i?"text-primary":"text-slate-600"}`,children:o?"Not Started":`${s}%`})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${i?"bg-primary":"bg-primary/70"}`,style:{width:`${Math.min(s,100)}%`}})})]})}const R=[{id:"1",code:"SROI-24-082",name:"Inisiatif Pertanian Berkelanjutan",type:"SROI",typeLabel:"Social Return on Investment (SROI)",location:"Penilaian Q3",status:"active",currentResponses:842,targetResponses:1200},{id:"2",code:"IKM-24-015",name:"Audit Kesehatan Masyarakat",type:"IKM",typeLabel:"Indeks Kepuasan Masyarakat (IKM)",location:"Tingkat Regional",status:"active",currentResponses:142,targetResponses:500},{id:"3",code:"SLOI-24-004",name:"Perpanjangan Izin Area Tambang",type:"SLOI",typeLabel:"Social License to Operate (SLOI)",location:"Site A",status:"draft",currentResponses:0,targetResponses:250},{id:"4",code:"IKM-23-112",name:"Kepuasan Layanan Tahunan 2023",type:"IKM",typeLabel:"Indeks Kepuasan Masyarakat (IKM)",location:"Kantor Pusat",status:"closed",currentResponses:2104,targetResponses:2e3},{id:"5",code:"SROI-24-099",name:"Program Pemberdayaan Ekonomi Desa",type:"SROI",typeLabel:"Social Return on Investment (SROI)",location:"Kabupaten Sleman",status:"active",currentResponses:567,targetResponses:800},{id:"6",code:"SLOI-24-012",name:"Survei Penerimaan Sosial Pabrik Baru",type:"SLOI",typeLabel:"Social License to Operate (SLOI)",location:"Kawasan Industri Bekasi",status:"active",currentResponses:320,targetResponses:500}],L=[{key:"all",label:"Semua"},{key:"active",label:"Aktif"},{key:"draft",label:"Draft"},{key:"closed",label:"Selesai"}],C={totalROI:"Rp 67M",totalROITrend:"+12% dari kuartal sebelumnya",totalRespondents:"12.482",totalRespondentsSubtitle:"Dari 4 kampanye aktif",draftProposals:"7",draftProposalsSubtitle:"Menunggu persetujuan supervisor"},w={currentPage:1,totalPages:3,totalItems:24,itemsPerPage:4},x={projects:R,filterTabs:L,summaryStats:C,pagination:w},O={active:"bg-primary/10 text-primary border-primary/20",draft:"bg-amber-50 text-amber-600 border-amber-200",closed:"bg-slate-100 text-slate-500 border-slate-200"},P={active:"Active",draft:"Draft",closed:"Closed"};function M({status:t}){return e.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${O[t]}`,children:P[t]})}const T={IKM:"text-primary",SLOI:"text-primary",SROI:"text-primary"};function K({projects:t,onEdit:a,onDelete:r}){return e.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 border-b border-slate-100 bg-slate-50 px-6 py-4 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[e.jsx("div",{className:"col-span-2",children:"Code"}),e.jsx("div",{className:"col-span-4",children:"Project Details"}),e.jsx("div",{className:"col-span-1 text-center",children:"Status"}),e.jsx("div",{className:"col-span-4",children:"Completion Progress"}),e.jsx("div",{className:"col-span-1 text-center",children:"Actions"})]}),e.jsx("div",{className:"divide-y divide-slate-100",children:t.map(s=>e.jsxs("div",{className:"grid grid-cols-12 items-center gap-4 px-6 py-5 transition-colors hover:bg-slate-50",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 font-mono text-sm font-medium text-slate-700",children:s.code})}),e.jsxs("div",{className:"col-span-4",children:[e.jsx(f,{href:`/company/projects/${s.id}`,className:"font-semibold text-slate-900 hover:text-primary",children:s.name}),e.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:[e.jsx("span",{className:T[s.type],children:s.typeLabel}),e.jsx("span",{className:"mx-2",children:"â€¢"}),s.location]})]}),e.jsx("div",{className:"col-span-1 text-center",children:e.jsx(M,{status:s.status})}),e.jsx("div",{className:"col-span-4",children:e.jsx(k,{current:s.currentResponses,total:s.targetResponses})}),e.jsxs("div",{className:"col-span-1 flex items-center justify-center gap-2",children:[e.jsx(f,{href:`/company/projects/${s.id}`,className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-100 hover:text-primary",title:"View",children:e.jsx(c,{name:"visibility",className:"text-lg"})}),a&&e.jsx("button",{onClick:()=>a(s),className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-100 hover:text-primary",title:"Edit",children:e.jsx(c,{name:"edit",className:"text-lg"})}),r&&e.jsx("button",{onClick:()=>r(s),className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-100 hover:text-red-500",title:"Delete",children:e.jsx(c,{name:"delete",className:"text-lg"})})]})]},s.id))})]})}function h({icon:t,iconBgColor:a,iconColor:r,title:s,value:i,subtitle:o}){return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("div",{className:`flex size-10 items-center justify-center rounded-lg ${a}`,children:e.jsx(c,{name:t,className:r})}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:s})]}),e.jsx("p",{className:"text-3xl font-bold text-slate-900",children:i}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:o})]})}const $=x.projects,D=x.filterTabs,d=x.summaryStats,m=x.pagination;function E(){const[t,a]=b.useState(""),[r,s]=b.useState("all"),[i,o]=b.useState(m.currentPage),p=$.filter(l=>{const y=l.name.toLowerCase().includes(t.toLowerCase())||l.code.toLowerCase().includes(t.toLowerCase()),j=r==="all"||l.status===r;return y&&j}),u=l=>{console.log("Edit proyek:",l)},n=l=>{console.log("Hapus proyek:",l)};return e.jsxs(v,{breadcrumb:{parent:"Dashboard",current:"Proyek"},children:[e.jsx(g,{title:"Proyek"}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Portofolio Proyek"}),e.jsx("p",{className:"mt-2 text-slate-500",children:"Pantau performa dampak sosial melalui survei IKM, SLOI, dan SROI."})]}),e.jsxs(f,{href:"/company/projects/create",className:"flex items-center gap-2 rounded-lg bg-primary-btn px-5 py-3 font-semibold text-white transition-colors hover:bg-primary-btn-hover",children:[e.jsx(c,{name:"add"}),"Buat Proyek"]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsx(h,{icon:"monitoring",iconBgColor:"bg-primary/10",iconColor:"text-primary",title:"Total ROI Terlacak",value:d.totalROI,subtitle:d.totalROITrend}),e.jsx(h,{icon:"groups",iconBgColor:"bg-primary/10",iconColor:"text-primary",title:"Total Responden",value:d.totalRespondents,subtitle:d.totalRespondentsSubtitle}),e.jsx(h,{icon:"draft",iconBgColor:"bg-amber-50",iconColor:"text-amber-600",title:"Proposal Draft",value:d.draftProposals,subtitle:d.draftProposalsSubtitle})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsx(N,{placeholder:"Cari berdasarkan nama proyek, kode, atau analis...",value:t,onChange:a}),e.jsx(S,{tabs:D,activeTab:r,onTabChange:s}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-50",children:[e.jsx(c,{name:"tune",className:"text-lg"}),"Filter Lanjutan"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(K,{projects:p,onEdit:u,onDelete:n})}),e.jsx("div",{className:"mb-8",children:e.jsx(I,{currentPage:i,totalPages:m.totalPages,totalItems:m.totalItems,itemsPerPage:m.itemsPerPage,onPageChange:o})})]})]})}export{E as default};
